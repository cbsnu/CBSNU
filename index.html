<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CBSN-U: Set Your Limits Beyond The Sky</title>

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics-compat.js"></script>

    <style>
        /* General Body and HTML Reset */
        body {
            margin: 0;
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            color: #E0E0E0; /* Light grey text for dark theme */
            background-color: #1a1a2e; /* Dark background */
            scroll-behavior: smooth;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: auto;
            overflow: hidden;
            padding: 20px 0;
        }

        /* Section Styling */
        section {
            padding: 80px 0;
            margin-bottom: 20px;
            border-bottom: 1px solid #333;
        }

        section:last-of-type {
            border-bottom: none;
        }

        h1, h2, h3 {
            font-family: 'Montserrat', sans-serif;
            color: #FF6B6B; /* Brand color for headings */
            text-align: center;
            margin-bottom: 30px;
        }

        h2 {
            font-size: 2.5em;
        }

        /* Navigation Bar */
        .navbar {
            background-color: #0F0F1A; /* Darker background for nav */
            color: #fff;
            padding: 10px 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.5);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            padding: 10px 5%;
        }

        .navbar .logo {
            font-size: 1.8em;
            font-weight: bold;
            color: #FF6B6B;
            text-decoration: none;
            display: flex;
            align-items: center;
        }

        .navbar .logo img {
            height: 40px; /* Adjust logo height as needed */
            margin-right: 10px;
        }

        .navbar ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-wrap: wrap;
        }

        .navbar ul li {
            margin-left: 20px;
        }

        .navbar ul li a {
            color: #fff;
            text-decoration: none;
            padding: 5px 0;
            transition: color 0.3s ease;
        }

        .navbar ul li a:hover,
        .navbar ul li a.active {
            color: #FF6B6B;
        }

        /* Hero Section */
        #hero {
            background: url('https://placehold.co/1920x1080/1a1a2e/FFFFFF?text=Hero+Image') no-repeat center center/cover; /* Placeholder hero image */
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: #fff;
            position: relative;
            margin-top: -60px; /* Adjust based on navbar height */
            flex-direction: column;
        }

        #hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.6); /* Dark overlay */
        }

        #hero .hero-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            padding: 20px;
        }

        #hero h1 {
            font-size: 4em;
            margin-bottom: 20px;
            color: #FF6B6B;
        }

        #hero p {
            font-size: 1.2em;
            margin-bottom: 30px;
        }

        .btn {
            display: inline-block;
            background-color: #FF6B6B;
            color: #fff;
            padding: 12px 25px;
            text-decoration: none;
            border-radius: 5px;
            transition: background-color 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1em;
        }

        .btn:hover {
            background-color: #E65A5A;
        }

        /* About Us Section */
        #about-us {
            background-color: #2a2a3e;
            color: #E0E0E0;
            text-align: center;
        }

        #about-us p {
            max-width: 800px;
            margin: 0 auto 30px auto;
            font-size: 1.1em;
        }

        #about-us .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        #about-us .stat-item {
            background-color: #3a3a4e;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        #about-us .stat-item .count {
            font-size: 2.5em;
            font-weight: bold;
            color: #FF6B6B;
            margin-bottom: 10px;
        }

        #about-us .stat-item .label {
            font-size: 1.1em;
            color: #CCC;
        }

        /* Academics Section */
        #academics {
            background-color: #1a1a2e;
            color: #E0E0E0;
        }

        #academics .academic-carousel {
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
            gap: 20px;
            padding-bottom: 20px;
        }

        #academics .academic-item {
            flex: 0 0 auto;
            width: 300px; /* Fixed width for carousel items */
            scroll-snap-align: start;
            background-color: #2a2a3e;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            text-align: center;
            padding-bottom: 20px;
        }

        #academics .academic-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-bottom: 1px solid #3a3a4e;
        }

        #academics .academic-item h3 {
            color: #FF6B6B;
            margin: 15px 0 10px;
            font-size: 1.5em;
        }

        #academics .academic-item p {
            padding: 0 15px;
            font-size: 0.95em;
            color: #CCC;
        }

        .downloads-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .download-item {
            background-color: #2a2a3e;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            text-align: center;
            transition: transform 0.3s ease;
        }

        .download-item:hover {
            transform: translateY(-5px);
        }

        .download-item a {
            color: #FF6B6B;
            text-decoration: none;
            font-weight: bold;
        }

        /* Photo Gallery Section */
        #photo-gallery {
            background-color: #2a2a3e;
        }

        #photo-gallery .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
        }

        #photo-gallery .gallery-item {
            background-color: #3a3a4e;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            position: relative;
        }

        #photo-gallery .gallery-item img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            display: block;
            transition: transform 0.3s ease;
        }

        #photo-gallery .gallery-item:hover img {
            transform: scale(1.05);
        }

        #photo-gallery .gallery-item .overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.7);
            color: #fff;
            padding: 10px;
            font-size: 0.9em;
            text-align: center;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        #photo-gallery .gallery-item:hover .overlay {
            transform: translateY(0);
        }

        /* Announcements Section */
        #announcements {
            background-color: #1a1a2e;
        }

        .announcement-list {
            background-color: #2a2a3e;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        .announcement-item {
            border-bottom: 1px solid #3a3a4e;
            padding: 15px 0;
        }

        .announcement-item:last-child {
            border-bottom: none;
        }

        .announcement-item .date {
            font-size: 0.85em;
            color: #FF6B6B;
            margin-bottom: 5px;
        }

        .announcement-item p {
            margin: 0;
            font-size: 1em;
        }

        /* Testimonials/Feedbacks Section */
        #feedbacks {
            background-color: #2a2a3e;
        }

        .feedback-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .feedback-item {
            background-color: #3a3a4e;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            font-style: italic;
            position: relative;
        }

        .feedback-item::before {
            content: '“';
            font-size: 3em;
            color: #FF6B6B;
            position: absolute;
            top: 5px;
            left: 10px;
            opacity: 0.5;
        }

        .feedback-item p {
            margin: 0 0 10px 0;
            padding-left: 20px;
        }

        .feedback-item .author {
            text-align: right;
            font-weight: bold;
            color: #FF6B6B;
            font-style: normal;
        }

        /* Contact Us Section */
        #contact-us {
            background-color: #1a1a2e;
        }

        #contact-us .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .contact-info-item {
            background-color: #2a2a3e;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            text-align: center;
        }

        .contact-info-item i {
            font-size: 2.5em;
            color: #FF6B6B;
            margin-bottom: 15px;
        }

        .contact-info-item h3 {
            color: #fff;
            margin-top: 0;
            font-size: 1.3em;
        }

        .contact-info-item p, .contact-info-item a {
            color: #CCC;
            text-decoration: none;
            font-size: 1em;
            display: block;
        }

        .contact-form-container {
            background-color: #2a2a3e;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            max-width: 600px;
            margin: 40px auto;
        }

        .contact-form-container h3 {
            margin-top: 0;
            color: #FF6B6B;
        }

        .contact-form-container .form-group {
            margin-bottom: 15px;
        }

        .contact-form-container label {
            display: block;
            margin-bottom: 8px;
            color: #E0E0E0;
        }

        .contact-form-container input[type="text"],
        .contact-form-container input[type="email"],
        .contact-form-container textarea {
            width: calc(100% - 20px);
            padding: 10px;
            border: 1px solid #4a4a5e;
            border-radius: 5px;
            background-color: #3a3a4e;
            color: #E0E0E0;
            font-size: 1em;
        }

        .contact-form-container textarea {
            resize: vertical;
            min-height: 100px;
        }

        .contact-form-container input[type="submit"] {
            width: 100%;
            padding: 12px;
            background-color: #FF6B6B;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            transition: background-color 0.3s ease;
        }

        .contact-form-container input[type="submit"]:hover {
            background-color: #E65A5A;
        }

        .message-status {
            margin-top: 20px;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
        }

        .message-status.success {
            background-color: #28a745;
            color: #fff;
        }

        .message-status.error {
            background-color: #dc3545;
            color: #fff;
        }

        /* Footer */
        .footer {
            background-color: #0F0F1A;
            color: #fff;
            text-align: center;
            padding: 20px 0;
            font-size: 0.9em;
            box-shadow: 0 -2px 5px rgba(0,0,0,0.5);
        }

        .footer .social-links {
            margin-bottom: 15px;
        }

        .footer .social-links a {
            color: #fff;
            font-size: 1.5em;
            margin: 0 10px;
            transition: color 0.3s ease;
        }

        .footer .social-links a:hover {
            color: #FF6B6B;
        }

        /* Chatbot Icon */
        .chatbot-icon {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background-color: #FF6B6B;
            color: #fff;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
            z-index: 1001;
            transition: transform 0.3s ease;
        }

        .chatbot-icon:hover {
            transform: scale(1.1);
        }

        /* Chatbot Popup */
        .chatbot-popup {
            position: fixed;
            bottom: 100px; /* Above the icon */
            right: 30px;
            width: 350px;
            height: 450px;
            background-color: #2a2a3e;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.7);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transform: translateY(100%) scale(0.5);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease-in-out;
        }

        .chatbot-popup.open {
            transform: translateY(0) scale(1);
            opacity: 1;
            visibility: visible;
        }

        .chatbot-header {
            background-color: #FF6B6B;
            color: #fff;
            padding: 15px;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chatbot-header .close-btn {
            background: none;
            border: none;
            color: #fff;
            font-size: 1.5em;
            cursor: pointer;
        }

        .chatbot-messages {
            flex-grow: 1;
            padding: 15px;
            overflow-y: auto;
            background-color: #1a1a2e;
            border-bottom: 1px solid #3a3a4e;
        }

        .chatbot-messages .message {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 15px;
            max-width: 80%;
            word-wrap: break-word;
        }

        .chatbot-messages .message.user {
            background-color: #FF6B6B;
            color: #fff;
            align-self: flex-end;
            margin-left: auto;
            text-align: right;
        }

        .chatbot-messages .message.bot {
            background-color: #3a3a4e;
            color: #E0E0E0;
            align-self: flex-start;
            margin-right: auto;
            text-align: left;
        }

        .chatbot-input-container {
            display: flex;
            padding: 10px;
            background-color: #2a2a3e;
        }

        .chatbot-input-container input {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid #4a4a5e;
            border-radius: 20px;
            background-color: #3a3a4e;
            color: #E0E0E0;
            margin-right: 10px;
            font-size: 1em;
        }

        .chatbot-input-container button {
            background-color: #FF6B6B;
            color: #fff;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .chatbot-input-container button:hover {
            background-color: #E65A5A;
        }

        /* Admin Dashboard Styles */
        .dashboard-container {
            padding: 20px;
            background-color: #2a2a3e;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            margin-top: 50px;
            min-height: calc(100vh - 180px);
        }

        .dashboard-container h2 {
            color: #FF6B6B;
            text-align: center;
            margin-bottom: 30px;
        }

        .dashboard-section {
            background-color: #1a1a2e;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 25px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .dashboard-section h3 {
            color: #E0E0E0;
            margin-top: 0;
            margin-bottom: 20px;
            border-bottom: 1px solid #3a3a4e;
            padding-bottom: 10px;
            font-size: 1.5em;
        }

        .user-list, .complaint-list {
            list-style: none;
            padding: 0;
        }

        .user-item, .complaint-item {
            background-color: #2a2a3e;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .user-item span, .complaint-item span {
            color: #CCC;
        }

        .user-actions, .complaint-actions {
            display: flex;
            gap: 10px;
        }

        .user-actions button, .complaint-actions button {
            background-color: #FF6B6B;
            color: #fff;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background-color 0.3s ease;
        }

        .user-actions button:hover, .complaint-actions button:hover {
            background-color: #E65A5A;
        }

        .user-actions .delete, .complaint-actions .delete {
            background-color: #dc3545;
        }
        .user-actions .delete:hover, .complaint-actions .delete:hover {
            background-color: #c82333;
        }

        /* Forms for uploads */
        .upload-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .upload-form input[type="text"],
        .upload-form input[type="file"],
        .upload-form textarea {
            padding: 10px;
            border: 1px solid #4a4a5e;
            border-radius: 5px;
            background-color: #3a3a4e;
            color: #E0E0E0;
            font-size: 1em;
        }

        .upload-form button {
            padding: 12px;
            background-color: #FF6B6B;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            transition: background-color 0.3s ease;
        }

        .upload-form button:hover {
            background-color: #E65A5A;
        }

        /* Auth Forms */
        .auth-container {
            background-color: #2a2a3e;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            max-width: 400px;
            margin: 80px auto;
            text-align: center;
        }

        .auth-container h2 {
            color: #FF6B6B;
            margin-bottom: 25px;
        }

        .auth-container .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .auth-container label {
            display: block;
            margin-bottom: 8px;
            color: #E0E0E0;
            font-weight: bold;
        }

        .auth-container input[type="email"],
        .auth-container input[type="password"],
        .auth-container input[type="text"],
        .auth-container select {
            width: calc(100% - 20px);
            padding: 12px;
            border: 1px solid #4a4a5e;
            border-radius: 5px;
            background-color: #3a3a4e;
            color: #E0E0E0;
            font-size: 1em;
        }

        .auth-container button {
            width: 100%;
            padding: 12px;
            background-color: #FF6B6B;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            transition: background-color 0.3s ease;
        }

        .auth-container button:hover {
            background-color: #E65A5A;
        }

        .auth-container .toggle-link {
            display: block;
            margin-top: 20px;
            color: #FF6B6B;
            text-decoration: none;
            font-size: 0.9em;
            transition: color 0.3s ease;
        }

        .auth-container .toggle-link:hover {
            color: #E65A5A;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                align-items: flex-start;
            }

            .navbar ul {
                margin-top: 10px;
                flex-direction: column;
                width: 100%;
                text-align: center;
            }

            .navbar ul li {
                margin: 5px 0;
            }

            #hero h1 {
                font-size: 3em;
            }

            section {
                padding: 50px 0;
            }

            .dashboard-container {
                padding: 15px;
            }
        }

        @media (max-width: 480px) {
            #hero h1 {
                font-size: 2.5em;
            }

            .navbar .logo {
                font-size: 1.5em;
            }

            .chatbot-popup {
                width: 90%;
                right: 5%;
                bottom: 80px;
                height: 400px;
            }

            .chatbot-icon {
                bottom: 20px;
                right: 20px;
                width: 50px;
                height: 50px;
                font-size: 1.8em;
            }
        }

    </style>
</head>
<body>
    <header class="navbar">
        <a href="#" class="logo">
            <img src="images/1744649096909.png" alt="CBSN-U Logo"> CBSN-U
        </a>
        <nav>
            <ul>
                <li><a href="#hero" class="active">Home</a></li>
                <li><a href="#about-us">About Us</a></li>
                <li><a href="#academics">Academics</a></li>
                <li><a href="#photo-gallery">Gallery</a></li>
                <li><a href="#announcements">Announcements</a></li>
                <li><a href="#feedbacks">Feedbacks</a></li>
                <li><a href="#contact-us">Contact Us</a></li>
                <li><a href="#" id="loginBtn">Login</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="hero">
            <div class="hero-content">
                <h1>Welcome to CBSN-U</h1>
                <p>Set Your Limits Beyond The Sky. [cite: 1]</p>
                <a href="#academics" class="btn">Explore Programs</a>
            </div>
        </section>

        <section id="about-us" class="container">
            <h2>About CBSN-U</h2>
            <p>CBSN-U (Cross Border Study Network -U) is dedicated to providing high-quality education and fostering a global learning environment. [cite: 1]</p>
            <p>Founded by Rittik Raj, we aim to bridge educational gaps and empower students to achieve their full potential. [cite: 2] Our head office is in Begusarai, Bihar, India, with a secondary office in California, USA. [cite: 2, 8]</p>

            <div class="stats-grid">
                <div class="stat-item">
                    <div class="count" id="studentsCount">0</div>
                    <div class="label">Students</div>
                </div>
                <div class="stat-item">
                    <div class="count" id="facultyCount">0</div>
                    <div class="label">Faculty</div>
                </div>
                <div class="stat-item">
                    <div class="count" id="institutionsCount">0</div>
                    <div class="label">Institutions</div>
                </div>
            </div>
        </section>

        <section id="academics" class="container">
            <h2>Our Academic Programs</h2>
            <div class="academic-carousel">
                <div class="academic-item">
                    <img src="images/2.png" alt="Program 1">
                    <h3>Program Title 1</h3>
                    <p>Brief description of the academic program, its benefits, and what students will learn.</p>
                    <a href="#" class="btn">Learn More</a>
                </div>
                <div class="academic-item">
                    <img src="images/1.png" alt="Program 2">
                    <h3>Program Title 2</h3>
                    <p>Brief description of the academic program, its benefits, and what students will learn.</p>
                    <a href="#" class="btn">Learn More</a>
                </div>
                <div class="academic-item">
                    <img src="images/3.png" alt="Program 3">
                    <h3>Program Title 3</h3>
                    <p>Brief description of the academic program, its benefits, and what students will learn.</p>
                    <a href="#" class="btn">Learn More</a>
                </div>
                </div>

            <h2 style="margin-top: 50px;">Results & Certificates</h2>
            <p style="text-align: center; max-width: 800px; margin: 0 auto 30px auto;">
                Access your examination results and download your certificates here.
                Actual PDF links will need to be managed via Firebase Storage and a backend.
            </p>
            <div class="downloads-grid" id="academicDownloads">
                <div class="download-item">
                    <h3>Exam Results 2024</h3>
                    <a href="#">Download PDF</a>
                </div>
                <div class="download-item">
                    <h3>Course Completion Certificate</h3>
                    <a href="#">Download PDF</a>
                </div>
            </div>
        </section>

        <section id="photo-gallery" class="container">
            <h2>Photo Gallery</h2>
            <div class="gallery-grid" id="homePhotoGallery">
                </div>
        </section>

        <section id="announcements" class="container">
            <h2>Latest Announcements</h2>
            <div class="announcement-list" id="announcementList">
                </div>
        </section>

        <section id="feedbacks" class="container">
            <h2>Student & Faculty Feedbacks</h2>
            <div class="feedback-grid" id="feedbackGrid">
                </div>

            <div class="contact-form-container" style="margin-top: 50px;">
                <h3>Submit Your Feedback</h3>
                <form id="feedbackForm">
                    <div class="form-group">
                        <label for="feedbackName">Your Name:</label>
                        <input type="text" id="feedbackName" name="feedbackName" required>
                    </div>
                    <div class="form-group">
                        <label for="feedbackContent">Your Feedback:</label>
                        <textarea id="feedbackContent" name="feedbackContent" required></textarea>
                    </div>
                    <button type="submit" class="btn">Submit Feedback</button>
                    <div id="feedbackMessageStatus" class="message-status"></div>
                </form>
            </div>
        </section>

        <section id="contact-us" class="container">
            <h2>Contact Us</h2>
            <div class="contact-grid">
                <div class="contact-info-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <h3>Head Office [cite: 2]</h3>
                    <p>Begusarai, Bihar, 851101, India [cite: 2]</p>
                </div>
                <div class="contact-info-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <h3>Secondary Office [cite: 8]</h3>
                    <p>20656 but not c i r Potter and, CA 91326 USA [cite: 8]</p>
                </div>
                <div class="contact-info-item">
                    <i class="fas fa-phone"></i>
                    <h3>Phone [cite: 2, 8]</h3>
                    <p>+91 8709547748 [cite: 2]</p>
                    <p>+1 8183 882065 [cite: 8]</p>
                </div>
                <div class="contact-info-item">
                    <i class="fas fa-envelope"></i>
                    <h3>Email [cite: 2, 8]</h3>
                    <p><a href="mailto:contact.cbsnu@gmail.com">contact.cbsnu@gmail.com</a> [cite: 2]</p>
                    <p><a href="mailto:cbsnu@gmail.com">cbsnu@gmail.com</a> [cite: 8]</p>
                </div>
            </div>

            <div class="contact-form-container" style="margin-top: 50px;">
                <h3>Submit a Complaint</h3>
                <form id="complaintForm">
                    <div class="form-group">
                        <label for="complaintName">Your Name:</label>
                        <input type="text" id="complaintName" name="user_name" required>
                    </div>
                    <div class="form-group">
                        <label for="complaintEmail">Your Email:</label>
                        <input type="email" id="complaintEmail" name="user_email" required>
                    </div>
                    <div class="form-group">
                        <label for="complaintSubject">Subject:</label>
                        <input type="text" id="complaintSubject" name="subject" required>
                    </div>
                    <div class="form-group">
                        <label for="complaintMessage">Your Complaint:</label>
                        <textarea id="complaintMessage" name="message" required></textarea>
                    </div>
                    <button type="submit" class="btn">Submit Complaint</button>
                    <div id="complaintMessageStatus" class="message-status"></div>
                </form>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="social-links">
            <a href="#" target="_blank"><i class="fab fa-instagram"></i></a>
            <a href="#" target="_blank"><i class="fab fa-facebook-f"></i></a>
            <a href="#" target="_blank"><i class="fab fa-linkedin-in"></i></a>
            <a href="#" target="_blank"><i class="fab fa-youtube"></i></a>
        </div>
        <p>&copy; 2025 CBSN-U. All Rights Reserved. [cite: 1]</p>
    </footer>

    <div class="chatbot-icon" id="chatbotIcon">
        <i class="fas fa-comments"></i>
    </div>

    <div class="chatbot-popup" id="chatbotPopup">
        <div class="chatbot-header">
            CBSN-U Bot
            <button class="close-btn" id="closeChatbotBtn">&times;</button>
        </div>
        <div class="chatbot-messages" id="chatbotMessages">
            <div class="message bot">Hello! I'm your CBSN-U assistant. How can I help you today?</div>
        </div>
        <div class="chatbot-input-container">
            <input type="text" id="chatbotInput" placeholder="Type your message...">
            <button id="sendChatbotBtn"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <div id="authModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 2000; justify-content: center; align-items: center;">
        <div class="auth-container">
            <span style="position: absolute; top: 10px; right: 20px; color: #fff; font-size: 2em; cursor: pointer;" id="closeAuthModal">&times;</span>
            <div id="loginSection">
                <h2>Login</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="loginEmail">Email:</label>
                        <input type="email" id="loginEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password:</label>
                        <input type="password" id="loginPassword" required>
                    </div>
                    <button type="submit">Login</button>
                </form>
                <a href="#" class="toggle-link" id="showSignup">Don't have an account? Sign Up</a>
            </div>

            <div id="signupSection" style="display: none;">
                <h2>Sign Up</h2>
                <form id="signupForm">
                    <div class="form-group">
                        <label for="signupEmail">Email:</label>
                        <input type="email" id="signupEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="signupPassword">Password:</label>
                        <input type="password" id="signupPassword" required>
                    </div>
                    <div class="form-group">
                        <label for="userType">Register As:</label>
                        <select id="userType" required>
                            <option value="">Select Type</option>
                            <option value="student">Student</option>
                            <option value="faculty">Faculty</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="state">State:</label>
                        <input type="text" id="state" placeholder="e.g., Bihar" required>
                    </div>
                    <div class="form-group">
                        <label for="district">District:</label>
                        <input type="text" id="district" placeholder="e.g., Begusarai" required>
                    </div>
                    <div class="form-group">
                        <label for="institution">School/Institution:</label>
                        <input type="text" id="institution" placeholder="e.g., ABC School" required>
                    </div>
                    <button type="submit">Sign Up</button>
                </form>
                <a href="#" class="toggle-link" id="showLogin">Already have an account? Login</a>
            </div>
        </div>
    </div>

    <div id="adminLoginModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 2000; justify-content: center; align-items: center;">
        <div class="auth-container">
            <span style="position: absolute; top: 10px; right: 20px; color: #fff; font-size: 2em; cursor: pointer;" id="closeAdminLoginModal">&times;</span>
            <h2>Admin Login</h2>
            <form id="adminLoginForm">
                <div class="form-group">
                    <label for="adminEmail">Email:</label>
                    <input type="email" id="adminEmail" required>
                </div>
                <div class="form-group">
                    <label for="adminPassword">Password:</label>
                    <input type="password" id="adminPassword" required>
                </div>
                <button type="submit">Login as Admin</button>
            </form>
            <a href="#" class="toggle-link" id="showClientLogin">Are you a Client? Login here.</a>
        </div>
    </div>

    <div id="clientLoginModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 2000; justify-content: center; align-items: center;">
        <div class="auth-container">
            <span style="position: absolute; top: 10px; right: 20px; color: #fff; font-size: 2em; cursor: pointer;" id="closeClientLoginModal">&times;</span>
            <h2>Client Login</h2>
            <form id="clientLoginForm">
                <div class="form-group">
                    <label for="clientEmail">Email:</label>
                    <input type="email" id="clientEmail" required>
                </div>
                <div class="form-group">
                    <label for="clientPassword">Password:</label>
                    <input type="password" id="clientPassword" required>
                </div>
                <button type="submit">Login as Client</button>
            </form>
            <a href="#" class="toggle-link" id="showAdminLogin">Are you an Admin? Login here.</a>
        </div>
    </div>

    <section id="facultyDashboard" class="container dashboard-container" style="display: none;">
        <h2>Faculty Dashboard</h2>
        <div class="dashboard-section">
            <h3>Upload Assignment</h3>
            <form id="assignmentUploadForm" class="upload-form">
                <input type="text" placeholder="Assignment Title" required>
                <input type="file" accept=".pdf" required>
                <button type="submit">Upload Assignment</button>
            </form>
        </div>
        </section>

    <section id="adminDashboard" class="container dashboard-container" style="display: none;">
        <h2>Admin Dashboard</h2>

        <div class="dashboard-section">
            <h3>Manage Users</h3>
            <ul class="user-list" id="userList">
                </ul>
        </div>

        <div class="dashboard-section">
            <h3>Manage Complaints</h3>
            <ul class="complaint-list" id="complaintList">
                </ul>
        </div>

        <div class="dashboard-section">
            <h3>Upload New Announcement</h3>
            <form id="announcementUploadForm" class="upload-form">
                <input type="text" placeholder="Announcement Title" required>
                <textarea placeholder="Announcement Content" required></textarea>
                <button type="submit">Publish Announcement</button>
            </form>
        </div>

        <div class="dashboard-section">
            <h3>Upload New Gallery Image</h3>
            <form id="galleryUploadForm" class="upload-form">
                <input type="file" accept="image/*" required>
                <input type="text" placeholder="Image Caption (Optional)">
                <button type="submit">Upload Image</button>
            </form>
        </div>
    </section>


    <script>
        // Firebase Configuration [cite: 4, 5, 6]
        const firebaseConfig = {
            apiKey: "AIzaSyCPN3VAXottCg3vDr0fMSu1niSVGNT3V9o",
            authDomain: "cbsnu-d8dbb.firebaseapp.com",
            projectId: "cbsnu-d8dbb",
            storageBucket: "cbsnu-d8dbb.firebasestorage.app",
            messagingSenderId: "1066269637289",
            appId: "1:1066269637289:web:cb1977ba240e05a0b587b8",
            measurementId: "G-TMBEL8E5ZQ"
        };

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        const storage = firebase.storage();
        const analytics = firebase.analytics();

        console.log("Firebase initialized.");

        // EmailJS Initialization [cite: 7]
        // This will be called inside DOMContentLoaded to ensure library is loaded
        // emailjs.init('YOUR_PUBLIC_KEY'); // Will be initialized below

        // Helper function to show messages
        function showMessage(elementId, message, isError) {
            const element = document.getElementById(elementId);
            element.textContent = message;
            element.classList.remove('success', 'error');
            element.classList.add(isError ? 'error' : 'success');
            element.style.display = 'block';
            setTimeout(() => {
                element.style.display = 'none';
            }, 5000);
        }

        // --- Navigation Active Link ---
        const navLinks = document.querySelectorAll('.navbar ul li a');
        navLinks.forEach(link => {
            link.addEventListener('click', function() {
                navLinks.forEach(item => item.classList.remove('active'));
                this.classList.add('active');
                // Smooth scroll to section
                const targetId = this.getAttribute('href');
                if (targetId && targetId.startsWith('#')) {
                    document.querySelector(targetId).scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // --- Login/Signup Modal Logic ---
        const loginBtn = document.getElementById('loginBtn');
        const authModal = document.getElementById('authModal');
        const closeAuthModal = document.getElementById('closeAuthModal');
        const loginSection = document.getElementById('loginSection');
        const signupSection = document.getElementById('signupSection');
        const showSignup = document.getElementById('showSignup');
        const showLogin = document.getElementById('showLogin');

        loginBtn.addEventListener('click', (e) => {
            e.preventDefault();
            authModal.style.display = 'flex';
            loginSection.style.display = 'block';
            signupSection.style.display = 'none';
        });

        closeAuthModal.addEventListener('click', () => {
            authModal.style.display = 'none';
        });

        showSignup.addEventListener('click', (e) => {
            e.preventDefault();
            loginSection.style.display = 'none';
            signupSection.style.display = 'block';
        });

        showLogin.addEventListener('click', (e) => {
            e.preventDefault();
            signupSection.style.display = 'none';
            loginSection.style.display = 'block';
        });

        // --- Admin/Client Login Logic ---
        const adminLoginModal = document.getElementById('adminLoginModal');
        const clientLoginModal = document.getElementById('clientLoginModal');
        const closeAdminLoginModal = document.getElementById('closeAdminLoginModal');
        const closeClientLoginModal = document.getElementById('closeClientLoginModal');
        const showAdminLoginLink = document.getElementById('showAdminLogin');
        const showClientLoginLink = document.getElementById('showClientLogin');

        // Example of how to open these (you might link them from somewhere else)
        // For now, let's make the 'Login' button a toggle for user/admin/client
        loginBtn.addEventListener('click', (e) => {
            e.preventDefault();
            authModal.style.display = 'flex'; // Default to user login
            loginSection.style.display = 'block';
            signupSection.style.display = 'none';

            // Hide other modals if open
            adminLoginModal.style.display = 'none';
            clientLoginModal.style.display = 'none';
        });

        // Admin login from regular login link
        showAdminLoginLink.addEventListener('click', (e) => {
            e.preventDefault();
            clientLoginModal.style.display = 'none';
            adminLoginModal.style.display = 'flex';
        });

        // Client login from regular login link
        showClientLoginLink.addEventListener('click', (e) => {
            e.preventDefault();
            adminLoginModal.style.display = 'none';
            clientLoginModal.style.display = 'flex';
        });


        closeAdminLoginModal.addEventListener('click', () => {
            adminLoginModal.style.display = 'none';
        });

        closeClientLoginModal.addEventListener('click', () => {
            clientLoginModal.style.display = 'none';
        });


        // --- Complaint Form Submission (EmailJS) ---
        const complaintForm = document.getElementById('complaintForm');
        complaintForm.addEventListener('submit', async (e) => {
            e.preventDefault();

            const serviceID = 'service_nvwp74b'; // [cite: 7]
            const templateID = 'template_jphnhtj'; // [cite: 7]

            try {
                const templateParams = {
                    user_name: document.getElementById('complaintName').value,
                    user_email: document.getElementById('complaintEmail').value,
                    subject: document.getElementById('complaintSubject').value,
                    message: document.getElementById('complaintMessage').value,
                    to_email: 'contact.cbsnu@gmail.com' // Your official email for complaints [cite: 2]
                };

                const response = await emailjs.send(serviceID, templateID, templateParams);
                console.log('EmailJS Success!', response.status, response.text);
                showMessage('complaintMessageStatus', 'Complaint submitted successfully! We will review it shortly.', false);
                complaintForm.reset();
                // Developer Note: For a robust system, complaints should also be logged in Firestore
                // and visible in the Admin Dashboard.
            } catch (error) {
                console.error('EmailJS Failed...', error);
                showMessage('complaintMessageStatus', 'Failed to submit complaint. Please try again.', true);
            }
        });

        // --- Chatbot Logic ---
        const chatbotIcon = document.getElementById('chatbotIcon');
        const chatbotPopup = document.getElementById('chatbotPopup');
        const closeChatbotBtn = document.getElementById('closeChatbotBtn');
        const chatbotInput = document.getElementById('chatbotInput');
        const sendChatbotBtn = document.getElementById('sendChatbotBtn');
        const chatbotMessages = document.getElementById('chatbotMessages');

        // Company details for chatbot knowledge base [cite: 1, 2, 8]
        const companyDetails = {
            name: "CBSN-U (Cross Border Study Network -U)",
            slogan: "Set Your Limits Beyond The Sky.",
            type: "OPC (One Person Company)",
            headOffice: "Begusarai, Bihar, 851101, India",
            secondaryOffice: "20656 but not c i r Potter and, CA 91326 USA",
            phoneNumbers: "8709547748, +1 8183 8820 65",
            emails: "contact.cbsnu@gmail.com, cbsnu@gmail.com, cbsnu.contact@gmail.com",
            website: "cbsnu.live",
            founderCEO: "Rittik Raj",
            ceoCredentials: "B.Sc Agriculture from Ghanshyam Urvashi PG College Prayagraj, Cyber Security from Craw Cyber Security Delhi"
        };

        chatbotIcon.addEventListener('click', () => {
            chatbotPopup.classList.toggle('open');
        });

        closeChatbotBtn.addEventListener('click', () => {
            chatbotPopup.classList.remove('open');
        });

        sendChatbotBtn.addEventListener('click', () => {
            sendMessage();
        });

        chatbotInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        function appendMessage(sender, message) {
            const messageElement = document.createElement('div');
            messageElement.classList.add('message', sender);
            messageElement.textContent = message;
            chatbotMessages.appendChild(messageElement);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight; // Auto-scroll to latest message
        }

        async function sendMessage() {
            const userMessage = chatbotInput.value.trim();
            if (userMessage === "") return;

            appendMessage("user", userMessage);
            chatbotInput.value = "";

            const botReply = await handleChatbotMessage(userMessage);
            setTimeout(() => {
                appendMessage("bot", botReply);
            }, 500);
        }

        async function handleChatbotMessage(message) {
            const lowerCaseMessage = message.toLowerCase();
            let botReply = "";
            let emailUnsolvedQuery = false; // Flag to trigger email for unsolved queries

            if (lowerCaseMessage.includes("hello") || lowerCaseMessage.includes("hi")) {
                botReply = "Hello! How can I help you today?";
            } else if (lowerCaseMessage.includes("company name")) {
                botReply = `Our company name is ${companyDetails.name}.`;
            } else if (lowerCaseMessage.includes("slogan") || lowerCaseMessage.includes("tagline")) {
                botReply = `Our slogan is: "${companyDetails.slogan}"`;
            } else if (lowerCaseMessage.includes("type of company")) {
                botReply = `We are an ${companyDetails.type}.`;
            } else if (lowerCaseMessage.includes("head office") || lowerCaseMessage.includes("main office")) {
                botReply = `Our head office is located at: ${companyDetails.headOffice}.`;
            } else if (lowerCaseMessage.includes("secondary office")) {
                botReply = `We also have a secondary office at: ${companyDetails.secondaryOffice}.`;
            } else if (lowerCaseMessage.includes("contact number") || lowerCaseMessage.includes("phone number")) {
                botReply = `You can reach us at: ${companyDetails.phoneNumbers}.`;
            } else if (lowerCaseMessage.includes("email")) {
                botReply = `Our official email addresses are: ${companyDetails.emails}.`;
            } else if (lowerCaseMessage.includes("website")) {
                botReply = `You can visit our website at: ${companyDetails.website}.`;
            } else if (lowerCaseMessage.includes("founder") || lowerCaseMessage.includes("ceo")) {
                botReply = `Our Founder and CEO is ${companyDetails.founderCEO}.`;
            } else if (lowerCaseMessage.includes("ceo credentials")) {
                botReply = `${companyDetails.founderCEO}'s credentials: ${companyDetails.ceoCredentials}.`;
            } else if (lowerCaseMessage.includes("admissions") || lowerCaseMessage.includes("courses")) {
                botReply = "For information on admissions and courses, please check our 'Academics' section on the website or contact us directly via email.";
                emailUnsolvedQuery = true; // Suggest email if query isn't fully resolved
            } else if (lowerCaseMessage.includes("complaint")) {
                botReply = "If you have a complaint, please use the 'Complaint Form' available on our website. Would you like me to direct you there?";
            }
            // Add more specific rules here for common queries

            else {
                // Fallback for unrecognized queries
                botReply = "I'm not sure I understand. Could you please rephrase your question? If your problem is still not resolved, I can help you to send this query to our support email.";
                emailUnsolvedQuery = true; // Offer to send email
            }

            // If an unsolved query, prompt user to confirm sending email
            if (emailUnsolvedQuery && !lowerCaseMessage.includes("send email")) {
                setTimeout(() => {
                    appendMessage("bot", "Type 'send email' if you'd like me to forward your last query to our support team.");
                }, 500); // Give a slight delay for better UX
            } else if (lowerCaseMessage.includes("send email") && emailUnsolvedQuery) {
                // Get the last user message from the chatbot history (this is a simplified approach)
                const lastUserMessageElement = chatbotMessages.querySelector('.message.user:last-child');
                const lastUserMessage = lastUserMessageElement ? lastUserMessageElement.textContent : "No recent user query.";
                await sendChatbotQueryToEmail(lastUserMessage);
                botReply = "Your query has been forwarded to our support team. We will get back to you shortly!";
                emailUnsolvedQuery = false; // Reset flag
            }

            return botReply;
        }

        // Function to send chatbot query to email
        async function sendChatbotQueryToEmail(userQuery) {
            try {
                const templateParams = {
                    from_name: 'Chatbot User', // You can ask user for their name if needed
                    from_email: 'chatbot@cbsnu.live', // A generic email, or ask user for their email
                    to_email: 'contact.cbsnu@gmail.com', // [cite: 2]
                    subject: 'Unresolved Chatbot Query from Website',
                    message: `User's query: "${userQuery}"\n\nThis query was not resolved by the chatbot and requires human attention.`,
                };

                const response = await emailjs.send('service_nvwp74b', 'template_jphnhtj', templateParams); // [cite: 7]
                console.log('Chatbot Email Forwarded Successfully!', response.status, response.text);
                return true;
            } catch (error) {
                console.error('Failed to forward chatbot query via EmailJS:', error);
                return false;
            }
        }

        // --- Firebase Data Loading Placeholders ---
        // Developer Note: Implement these functions to fetch data from Firebase Firestore
        // and update the HTML elements.
        async function loadAnnouncements() {
            // Example: Fetch from Firestore 'announcements' collection
            // const announcementsRef = db.collection('announcements').orderBy('timestamp', 'desc');
            // const snapshot = await announcementsRef.get();
            // const announcementList = document.getElementById('announcementList');
            // announcementList.innerHTML = '';
            // snapshot.forEach(doc => {
            //     const data = doc.data();
            //     const item = document.createElement('div');
            //     item.classList.add('announcement-item');
            //     item.innerHTML = `<div class="date">${new Date(data.timestamp.toDate()).toLocaleDateString()}</div><p>${data.content}</p>`;
            //     announcementList.appendChild(item);
            // });
            console.log("Loading announcements (placeholder)...");
        }

        async function loadHomePhotoGallery() {
            // Example: Fetch from Firestore 'galleryImages' collection and Firebase Storage
            // const galleryRef = db.collection('galleryImages');
            // const snapshot = await galleryRef.get();
            // const homePhotoGallery = document.getElementById('homePhotoGallery');
            // homePhotoGallery.innerHTML = '';
            // snapshot.forEach(doc => {
            //     const data = doc.data();
            //     const item = document.createElement('div');
            //     item.classList.add('gallery-item');
            //     item.innerHTML = `<img src="${data.imageUrl}" alt="${data.caption}"><div class="overlay">${data.caption}</div>`;
            //     homePhotoGallery.appendChild(item);
            // });
            console.log("Loading photo gallery (placeholder)...");
        }

        async function loadFeedbacks() {
            // Example: Fetch from Firestore 'feedbacks' collection
            // const feedbacksRef = db.collection('feedbacks').orderBy('timestamp', 'desc');
            // const snapshot = await feedbacksRef.get();
            // const feedbackGrid = document.getElementById('feedbackGrid');
            // feedbackGrid.innerHTML = '';
            // snapshot.forEach(doc => {
            //     const data = doc.data();
            //     const item = document.createElement('div');
            //     item.classList.add('feedback-item');
            //     item.innerHTML = `<p>${data.content}</p><div class="author">- ${data.author}</div>`;
            //     feedbackGrid.appendChild(item);
            // });
            console.log("Loading feedbacks (placeholder)...");
        }

        async function updateCounts() {
            // Example: Fetch counts from Firestore 'counts' collection or aggregate from 'users'
            // document.getElementById('studentsCount').textContent = '1000+'; // Replace with actual data
            // document.getElementById('facultyCount').textContent = '50+';
            // document.getElementById('institutionsCount').textContent = '10+';
            console.log("Updating counts (placeholder)...");
        }

        // --- Initial Data Loading on DOM Content Loaded ---
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize EmailJS after DOM is loaded
            emailjs.init('DqEZGom9bxso5B5Zl'); // [cite: 7]
            console.log("EmailJS initialized.");

            // Initial call to load content for Home page (placeholders for now)
            loadAnnouncements();
            loadHomePhotoGallery();
            loadFeedbacks();
            updateCounts();
        });

        // --- Other Form Submissions (Placeholders for Firebase Integration) ---
        const loginForm = document.getElementById('loginForm');
        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            try {
                // Firebase Authentication Login
                // await auth.signInWithEmailAndPassword(email, password);
                alert('Login successful! (Firebase integration needed)');
                authModal.style.display = 'none';
                // Redirect or show dashboard based on user type
            } catch (error) {
                console.error("Login failed:", error);
                alert('Login failed: ' + error.message);
            }
        });

        const signupForm = document.getElementById('signupForm');
        signupForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const userType = document.getElementById('userType').value;
            const state = document.getElementById('state').value;
            const district = document.getElementById('district').value;
            const institution = document.getElementById('institution').value;

            try {
                // Firebase Authentication Signup
                // const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                // await db.collection('users').doc(userCredential.user.uid).set({
                //     email: email,
                //     userType: userType,
                //     state: state,
                //     district: district,
                //     institution: institution,
                //     createdAt: firebase.firestore.FieldValue.serverTimestamp()
                // });
                alert('Signup successful! (Firebase integration needed)');
                authModal.style.display = 'none';
                // Automatically log in or redirect
            } catch (error) {
                console.error("Signup failed:", error);
                alert('Signup failed: ' + error.message);
            }
        });

        const adminLoginForm = document.getElementById('adminLoginForm');
        adminLoginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('adminEmail').value;
            const password = document.getElementById('adminPassword').value;
            try {
                // Firebase Authentication Admin Login
                // await auth.signInWithEmailAndPassword(email, password);
                // Check if user is an admin after login (e.g., via Firestore user role)
                alert('Admin Login successful! (Firebase integration needed)');
                adminLoginModal.style.display = 'none';
                document.getElementById('adminDashboard').style.display = 'block'; // Show admin dashboard
            } catch (error) {
                console.error("Admin login failed:", error);
                alert('Admin login failed: ' + error.message);
            }
        });

        const clientLoginForm = document.getElementById('clientLoginForm');
        clientLoginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('clientEmail').value;
            const password = document.getElementById('clientPassword').value;
            try {
                // Firebase Authentication Client Login
                // await auth.signInWithEmailAndPassword(email, password);
                // Check if user is a client after login
                alert('Client Login successful! (Firebase integration needed)');
                clientLoginModal.style.display = 'none';
                // Show client specific dashboard or features
            } catch (error) {
                console.error("Client login failed:", error);
                alert('Client login failed: ' + error.message);
            }
        });

        const feedbackForm = document.getElementById('feedbackForm');
        feedbackForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            // Firebase Firestore Feedback Submission
            try {
                // await db.collection('feedbacks').add({
                //     author: document.getElementById('feedbackName').value,
                //     content: document.getElementById('feedbackContent').value,
                //     timestamp: firebase.firestore.FieldValue.serverTimestamp()
                // });
                showMessage('feedbackMessageStatus', 'Feedback submitted successfully!', false);
                feedbackForm.reset();
                // loadFeedbacks(); // Reload feedbacks after submission
            } catch (error) {
                console.error("Feedback submission failed:", error);
                showMessage('feedbackMessageStatus', 'Failed to submit feedback. Please try again.', true);
            }
        });

        const assignmentUploadForm = document.getElementById('assignmentUploadForm');
        assignmentUploadForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const title = e.target[0].value;
            const file = e.target[1].files[0];
            if (!file) {
                alert("Please select a file to upload.");
                return;
            }
            try {
                // Firebase Storage Upload
                // const storageRef = storage.ref(`assignments/${file.name}`);
                // const uploadTask = storageRef.put(file);
                // await uploadTask;
                // const downloadURL = await storageRef.getDownloadURL();
                // await db.collection('assignments').add({
                //     title: title,
                //     fileURL: downloadURL,
                //     uploadedAt: firebase.firestore.FieldValue.serverTimestamp()
                // });
                alert('Assignment uploaded successfully! (Firebase integration needed)');
                assignmentUploadForm.reset();
            } catch (error) {
                console.error("Assignment upload failed:", error);
                alert('Assignment upload failed: ' + error.message);
            }
        });

        const announcementUploadForm = document.getElementById('announcementUploadForm');
        announcementUploadForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const title = e.target[0].value;
            const content = e.target[1].value;
            try {
                // Firebase Firestore Announcement Addition
                // await db.collection('announcements').add({
                //     title: title,
                //     content: content,
                //     timestamp: firebase.firestore.FieldValue.serverTimestamp()
                // });
                alert('Announcement published successfully! (Firebase integration needed)');
                announcementUploadForm.reset();
                // loadAnnouncements(); // Reload announcements
            } catch (error) {
                console.error("Announcement upload failed:", error);
                alert('Announcement upload failed: ' + error.message);
            }
        });

        const galleryUploadForm = document.getElementById('galleryUploadForm');
        galleryUploadForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const file = e.target[0].files[0];
            const caption = e.target[1].value;
            if (!file) {
                alert("Please select an image to upload.");
                return;
            }
            try {
                // Firebase Storage Image Upload
                // const storageRef = storage.ref(`gallery/${file.name}`);
                // const uploadTask = storageRef.put(file);
                // await uploadTask;
                // const downloadURL = await storageRef.getDownloadURL();
                // await db.collection('galleryImages').add({
                //     imageUrl: downloadURL,
                //     caption: caption,
                //     uploadedAt: firebase.firestore.FieldValue.serverTimestamp()
                // });
                alert('Gallery image uploaded successfully! (Firebase integration needed)');
                galleryUploadForm.reset();
                // loadHomePhotoGallery(); // Reload gallery
            } catch (error) {
                console.error("Gallery image upload failed:", error);
                alert('Gallery image upload failed: ' + error.message);
            }
        });

        // --- Admin Dashboard Placeholder Functions ---
        async function loadUsers() {
            // Fetch users from Firestore 'users' collection
            console.log("Loading users for admin dashboard (placeholder)...");
            // const userList = document.getElementById('userList');
            // userList.innerHTML = '';
            // Example:
            // const usersSnapshot = await db.collection('users').get();
            // usersSnapshot.forEach(doc => {
            //     const userData = doc.data();
            //     const userItem = document.createElement('li');
            //     userItem.classList.add('user-item');
            //     userItem.innerHTML = `
            //         <span>${userData.email} (${userData.userType}) - ${userData.institution}</span>
            //         <div class="user-actions">
            //             <button class="edit">Edit</button>
            //             <button class="delete">Delete</button>
            //         </div>
            //     `;
            //     userList.appendChild(userItem);
            // });
        }

        async function loadComplaints() {
            // Fetch complaints from Firestore 'complaints' collection
            console.log("Loading complaints for admin dashboard (placeholder)...");
            // const complaintList = document.getElementById('complaintList');
            // complaintList.innerHTML = '';
            // Example:
            // const complaintsSnapshot = await db.collection('complaints').orderBy('timestamp', 'desc').get();
            // complaintsSnapshot.forEach(doc => {
            //     const complaintData = doc.data();
            //     const complaintItem = document.createElement('li');
            //     complaintItem.classList.add('complaint-item');
            //     complaintItem.innerHTML = `
            //         <span>${complaintData.subject} from ${complaintData.user_name} (${complaintData.user_email})</span>
            //         <div class="complaint-actions">
            //             <button class="view">View Details</button>
            //             <button class="resolve">Mark Resolved</button>
            //         </div>
            //     `;
            //     complaintList.appendChild(complaintItem);
            // });
        }

        // Call admin dashboard load functions when admin logs in
        // (This would typically be part of the admin login success handler)
        // loadUsers();
        // loadComplaints();


        // Placeholder for Razorpay integration (as discussed, this is missing)
        // const payNowBtn = document.getElementById('payNowBtn'); // Assuming you have such a button
        // if(payNowBtn) {
        //     payNowBtn.addEventListener('click', () => {
        //         alert('Razorpay integration needed here!');
        //         // Example of initiating Razorpay (requires backend order creation)
        //         // const options = {
        //         //     key: "YOUR_RAZORPAY_KEY_ID", // Enter the Key ID generated from the Dashboard
        //         //     amount: "10000", // Amount in paise (e.g., 10000 = Rs 100)
        //         //     currency: "INR",
        //         //     name: "CBSN-U",
        //         //     description: "Course Fee Payment",
        //         //     order_id: "order_xxxxxxxxxxxxxx", // Replace with an actual order ID from your backend
        //         //     handler: function (response) {
        //         //         alert("Payment successful! Payment ID: " + response.razorpay_payment_id);
        //         //     },
        //         //     prefill: {
        //         //         name: "User Name",
        //         //         email: "user@example.com"
        //         //     },
        //         //     theme: {
        //         //         color: "#FF6B6B"
        //         //     }
        //         // };
        //         // const rzp1 = new Razorpay(options);
        //         // rzp1.open();
        //     });
        // }

    </script>
</body>
</html>
